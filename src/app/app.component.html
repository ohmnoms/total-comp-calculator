<mat-toolbar color="primary">
  <span>Compensation Calculator</span>
</mat-toolbar>

<div style="max-width: 600px; margin: 20px auto;">

  <!-- A. Base Salary -->
  <mat-card class="section">
    <h2>Base Salary</h2>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Annual Base Salary</mat-label>
      <input matInput type="number" [(ngModel)]="baseSalary" />
    </mat-form-field>
  </mat-card>

  <!-- B. Bonuses & Incentives -->
  <mat-card class="section">
    <h2>Bonuses & Incentives</h2>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Performance Bonus</mat-label>
      <input matInput type="number" [(ngModel)]="performanceBonus" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Stock / Equity (Annual Value)</mat-label>
      <input matInput type="number" [(ngModel)]="stockEquity" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Other Bonuses / Commissions</mat-label>
      <input matInput type="number" [(ngModel)]="otherBonuses" />
    </mat-form-field>
  </mat-card>

  <!-- C. Benefits -->
  <mat-card class="section">
    <h2>Benefits (Employer Contributions)</h2>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Health Insurance</mat-label>
      <input matInput type="number" [(ngModel)]="healthInsurance" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Dental / Vision</mat-label>
      <input matInput type="number" [(ngModel)]="dentalVision" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>401(k) / Retirement Match</mat-label>
      <input matInput type="number" [(ngModel)]="retirementMatch" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Life / Disability Insurance</mat-label>
      <input matInput type="number" [(ngModel)]="lifeDisability" />
    </mat-form-field>
  </mat-card>

  <!-- D. PTO -->
  <mat-card class="section">
    <h2>Paid Time Off (PTO)</h2>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Monetary Value of PTO</mat-label>
      <input matInput type="number" [(ngModel)]="ptoValue" />
    </mat-form-field>
  </mat-card>

  <!-- E. Other Perks & Reimbursements -->
  <mat-card class="section">
    <h2>Other Perks & Reimbursements</h2>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Tuition / Education Stipend</mat-label>
      <input matInput type="number" [(ngModel)]="tuitionStipend" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Wellness / Gym Reimbursement</mat-label>
      <input matInput type="number" [(ngModel)]="wellnessGym" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Commuter / Travel</mat-label>
      <input matInput type="number" [(ngModel)]="commuterTravel" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Office / WFH Stipend</mat-label>
      <input matInput type="number" [(ngModel)]="officeStipend" />
    </mat-form-field>
  </mat-card>

  <!-- Calculate Button -->
  <div style="text-align:center; margin: 20px 0;">
    <button mat-raised-button color="primary" (click)="calculateTotals()">
      Calculate
    </button>
  </div>

  <!-- Results & Chart -->
  <mat-divider></mat-divider>
  <div style="text-align:center; margin-top: 20px;" *ngIf="totalCompensation > 0">
    <p><strong>Base Salary:</strong> {{ baseSalary | currency }}</p>
    <p><strong>Bonuses &amp; Incentives Total:</strong> {{ bonusesSubtotal | currency }}</p>
    <p><strong>Benefits Total:</strong> {{ benefitsSubtotal | currency }}</p>
    <p><strong>PTO Value:</strong> {{ ptoValue | currency }}</p>
    <p><strong>Perks &amp; Reimbursements Total:</strong> {{ perksSubtotal | currency }}</p>
    <hr />
    <p>
      <strong>Total Annual Compensation:</strong>
      {{ totalCompensation | currency }}
    </p>
    <p>
      <strong>Monthly Breakdown:</strong>
      {{ monthlyCompensation | currency }} / month
    </p>

    <!-- Chart Canvas -->
    <canvas
      *ngIf="isBrowser && totalCompensation > 0"
      id="compChart"
      width="400"
      height="300">
    </canvas>
  </div>
</div>
